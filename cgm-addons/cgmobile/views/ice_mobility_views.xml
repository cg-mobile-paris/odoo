<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <!-- State -->
    <record id="view_country_state_tree" model="ir.ui.view">
        <field name="name">cgmobile.ice_mobility.res.country.state.tree</field>
        <field name="model">res.country.state</field>
        <field name="inherit_id" ref="base.view_country_state_tree"/>
        <field name="arch" type="xml">
            <xpath expr="//field[@name='code']" position="after">
                <field name="ice_mobility_code" />
            </xpath>
        </field>
    </record>

    <record id="view_country_state_form" model="ir.ui.view">
        <field name="name">cgmobile.ice_mobility.res.country.state.form</field>
        <field name="model">res.country.state</field>
        <field name="inherit_id" ref="base.view_country_state_form"/>
        <field name="arch" type="xml">
            <xpath expr="//field[@name='code']" position="after">
                <field name="ice_mobility_code" />
            </xpath>
        </field>
    </record>

    <!-- Picking Type -->
    <record id="view_picking_type_form" model="ir.ui.view">
        <field name="name">cgmobile.ice_mobility.stock.picking.type.form</field>
        <field name="model">stock.picking.type</field>
<!--        <field name="inherit_id" ref="stock_barcode.view_picking_type_form_inherit_stock_barcode"/> v14-->
        <field name="inherit_id" ref="stock.view_picking_type_form"/> <!-- v17 -->
        <field name="arch" type="xml">
            <xpath expr="//field[@name='barcode']" position="after">
                <field name="ice_mobility_picking_type" />
            </xpath>
        </field>
    </record>

    <!-- form view inherited from delivery carrier form -->
    <record id="ice_mobility_delivery_carrier_form" model="ir.ui.view">
        <field name="name">cgmobile.ice_mobility.delivery_carrier_form</field>
        <field name="model">delivery.carrier</field>
        <field name="inherit_id" ref="delivery.view_delivery_carrier_form"/>
        <field name="arch" type="xml">
            <xpath expr="//notebook" position="inside">
                <page name="page_ice_mobility" string="Ice Mobility">
                    <group>
                        <group>
                            <field name="ice_mobility_delivery_mode" />
                        </group>
                    </group>
                </page>
            </xpath>
        </field>
    </record>

    <!-- form view inherited from stock picking form -->
    <record id="ice_mobility_stock_picking_form" model="ir.ui.view">
        <field name="name">cgmobile.ice_mobility.stock_picking_form</field>
        <field name="model">stock.picking</field>
        <field name="inherit_id" ref="stock.view_picking_form"/>
        <field name="arch" type="xml">
            <xpath expr="//notebook" position="inside">
                <field name="ice_mobility_picking" invisible="1"/>
                <page name="page_ice_mobility" string="Ice Mobility" invisible="ice_mobility_picking == False">
                    <group>
                        <group>
                            <field name="ice_mobility_export_date" readonly="1" />
                            <field name="ice_mobility_export_number" readonly="1" />
                        </group>
                    </group>
                </page>
            </xpath>
        </field>
    </record>

    <!-- form view inherited from stock warehouse form -->
    <record id="ice_mobility_stock_warehouse_form" model="ir.ui.view">
        <field name="name">cgmobile.ice_mobility.stock_warehouse_form</field>
        <field name="model">stock.warehouse</field>
        <field name="inherit_id" ref="stock.view_warehouse"/>
        <field name="arch" type="xml">
            <xpath expr="//notebook" position="inside">
                <page name="page_ice_mobility" string="Ice Mobility">
                    <group>
                        <group>
                            <field name="ice_mobility_warehouse" />
                        </group>
                    </group>
                </page>
            </xpath>
        </field>
    </record>

    <!-- add ice mobiltiy code to product form view -->
    <record id="ice_mobility_product_product_form" model="ir.ui.view">
        <field name="name">cgmobile.ice_mobility.product_product_form</field>
        <field name="model">product.product</field>
        <field name="inherit_id" ref="product.product_normal_form_view" />
        <field name="arch" type="xml">
            <xpath expr="//field[@name='upc_code']" position="after">
                <field name="ice_mobility_code" />
            </xpath>
        </field>
    </record>
</odoo>